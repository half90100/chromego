(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"9DFJ":function(e,t,n){},LbAz:function(e,t,n){},MQwj:function(e,t,n){},Uzvo:function(e,t,n){"use strict";var r=n("q1tI"),b=n.n(r),o=(n("17x9"),n("/MKj")),v=n("AoHe"),g=n("E9Wd"),w=n("+qLk");n("ZYtQ");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(h){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,b.a.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(t,[{key:"render",value:function(){if(!h)return null;var e=this.props,t=e.post,n=e.height,r=e.width,o=e.viewGif,i=e.colorLoading,a=e.streamSection,s=e.streamParam;if(!t)return null;var c=Object(v.a)(t.toJS(),o),u={color:i,height:n},l=Object(v.b)(c,r,n),p=l.contentWidth,m=l.contentHeight,d=Object(v.e)(c.isAd,n,m,null!=c.title&&c.title.length),f="".concat(g.C).concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.get("in_gallery")||![w.C,w.q,w.r,w.s].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.get("isAlbum")?"/a":"":"/".concat(w.n)}(t,a,s),"/").concat(c.id),y=O({},this.props,{spinner:u,post:O({},c,{width:p,height:m,href:f}),styles:d});return b.a.createElement(h,P({className:"Post-item"},y))}}]),t}();return l(e,"defaultProps",{viewGif:!0}),e}function m(e,t){var n=e.posts,r=e.user,o=e.gallery,i=t.id;return{post:n.getIn(["posts",i]),isUserLoggedIn:r.get("isLoggedIn"),viewGif:o.get("viewGif")&&!o.get("pauseAnimation"),streamSection:o.get("streamSection"),streamParam:o.get("streamParam")}}n.d(t,"a",function(){return d});var d=function(e){return Object(o.b)(m)(p(e))}},VtCw:function(e,t,n){},ZYtQ:function(e,t,n){},"ega+":function(e,t,n){"use strict";var r=n("q1tI"),N=n.n(r),o=n("sEfC"),i=n.n(o),a=(n("17x9"),n("/MKj")),s=n("TSYQ"),G=n.n(s),k=n("wmRA"),c=n("Bw9V"),u=n("ErBw"),l=n("Uzvo"),p=n("GB65");var m=n("G5ih");n("VtCw");function d(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,o=[],i=0;i<t;i++)o.push({cx:16+(16-n)*Math.cos(r*i),cy:16+(16-n)*Math.sin(r*i)});return N.a.createElement("span",{className:"FireworkAnimate"},N.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32)},o.map(function(e,t){return N.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})})))}d.defaultProps={points:8,radius:2},d.__docgenInfo={description:"",methods:[],displayName:"FireworkAnimate",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}};var f=n("pNV7");n("wMLv");function C(e){var t=e.onVote,n=e.value.toLocaleString();return N.a.createElement("div",{className:"PostInfo vote downs uScaleTransition",onClick:t},N.a.createElement("span",{className:"icon icon-downvote-fill"}),N.a.createElement("span",null,n))}function I(e){var t=e.onVote,n=e.value,r=e.isVoted,o=n.toLocaleString();return N.a.createElement("div",{className:"PostInfo vote ups uScaleTransition",onClick:t},N.a.createElement("span",{className:"icon icon-upvote-fill"},r&&N.a.createElement(d,null)),N.a.createElement("span",null,o))}function T(e){var t=e.value,n=t.toLocaleString();return Math.trunc(t/1e3)&&(n=Object(m.a)("lotComments")),N.a.createElement("div",{className:"PostInfo uScaleTransition"},N.a.createElement("span",{className:"icon ".concat(f.e)},N.a.createElement(f.G,{name:f.e})),N.a.createElement("span",null,n))}function y(e){var t=e.value,n=e.className,r=t.toLocaleString();return Math.trunc(t/1e3)&&(r=Math.round(t/1e3,1)+Object(m.a)("viewsK")),Math.trunc(t/1e6)&&(r=Math.round(t/1e6,1)+Object(m.a)("viewsM")),N.a.createElement("div",{className:"PostInfo uScaleTransition views ".concat(n)},N.a.createElement("span",{className:"icon ".concat(f.l)},N.a.createElement(f.G,{name:f.l})),N.a.createElement("span",null,r))}function h(e){var t=e.text;return N.a.createElement("div",{className:"PostInfo label"},t)}function b(e){var t=e.text,n=e.lines,r=e.fontSize,o=e.lineHeight;return N.a.createElement("span",{style:function(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}(n,r,o)},t)}I.defaultProps={isVoted:!1},I.__docgenInfo={description:"",methods:[],displayName:"PostVoteUp",props:{isVoted:{defaultValue:{value:"false",computed:!(C.__docgenInfo={description:"",methods:[],displayName:"PostVoteDown",props:{onVote:{type:{name:"func"},required:!(y.defaultProps={className:""}),description:""},value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},y.__docgenInfo={description:"",methods:[],displayName:"PostViews",props:{className:{defaultValue:{value:"''",computed:!(T.__docgenInfo={description:"",methods:[],displayName:"PostComments",props:{value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"string"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},h.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},b.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function x(e){var t=e.title,n=e.children,r=e.isNotAd,o=e.privacy,i=e.className,a=e.views;if(!r&&!t)return null;var s=-1===[k.m,k.i].indexOf(o),c=G()(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"Post-item-title-wrap":!0},i,i));return N.a.createElement("div",{className:c},N.a.createElement("div",{className:"Post-item-title"},N.a.createElement(b,{lines:2,fontSize:14,lineHeight:1.14,text:t})),N.a.createElement("div",{className:"Post-item-info"},s&&r&&n,o===k.m&&N.a.createElement(h,{text:Object(m.a)("postPrivate")}),o===k.i&&N.a.createElement(h,{text:Object(m.a)("postHidden")}),r&&1<=a&&N.a.createElement(y,{value:a,className:o===k.i?"hidden":""})))}x.defaultProps={className:"",privacy:k.n},x.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""}}};n("MQwj");var v=N.a.createElement("svg",{className:"Grid-ad-arrow",width:"10px",height:"10px",viewBox:"0 -2 7 8"},N.a.createElement("g",{id:"Ad-UX",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},N.a.createElement("g",{transform:"translate(-1067.000000, -405.000000)",fill:"#2C2F34"},N.a.createElement("g",{transform:"translate(1066.000000, 405.000000)"},N.a.createElement("g",{id:"Layer_1"},N.a.createElement("rect",{id:"Rectangle-path",transform:"translate(3.602175, 3.397824) rotate(225.000000) translate(-3.602175, -3.397824) ",x:"2.85931752",y:"0.426395641",width:"1.48571433",height:"5.9428573"}),N.a.createElement("polygon",{id:"Shape",points:"6.97142857 5.22857143 5.48571429 5.22857143 5.48571429 1.51428571 1.77142857 1.51428571 1.77142857 0.0285714286 6.97142857 0.0285714286"}))))));function g(e){var t=e.isThumbnailAd,n=e.isPromotedAd,r=e.imagesCount,o=e.metaLabel;return N.a.createElement("div",{className:"Post-item-meta"},o&&N.a.createElement("div",{className:"Post-item-image-video"},o),n&&N.a.createElement("div",{className:"Post-item-external-ad"},Object(m.a)("promotedText")),t&&N.a.createElement("div",{className:"Post-item-external-ad"},"ad ",v),!t&&!n&&1<r&&N.a.createElement("div",{className:"Post-item-image-count"},r.toLocaleString()))}var F=g;g.__docgenInfo={description:"",methods:[],displayName:"Meta",props:{isThumbnailAd:{type:{name:"bool"},required:!1,description:""},isPromotedAd:{type:{name:"bool"},required:!1,description:""},imagesCount:{type:{name:"number"},required:!1,description:""},metaLabel:{type:{name:"string"},required:!1,description:""}}};var M=n("cG8M"),L=n("CG6i");n("ZYtQ");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return S}),n.d(t,"b",function(){return _});var S=function(e){function t(e){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(j(s=function(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?j(e):t}(this,O(t).call(this,e))),"isVoteHandler",!1),A(j(s),"getVoteHandler",function(a){return function(e){var t=s.props,n=t.post,r=t.isUserLoggedIn,o=t.onGalleryImageVote;if(!r||!o)return!0;e.preventDefault();var i=n.vote;if(s.isVoteHandler=!0,i===a)return o(n.id,k.q);o(n.id,a)}}),A(j(s),"handlerSaveGalleryPage",function(){var e=s.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)}),A(j(s),"clickHandler",function(){s.props.post.isAd&&s.props.adTileTapped(s.props.post.id)}),A(j(s),"inViewHandler",function(){(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var n=e.getBoundingClientRect(),r=Object(p.o)()+t;return 0<=n.bottom&&n.top<=r})(s.post.current)&&(s.props.adTileInView(s.props.post.id),Object(p.T)("scroll",s.inViewHandler))}),s.post=N.a.createRef(),s.props.post.isAd&&(s.inViewHandler=i()(s.inViewHandler.bind(j(s)),100),Object(p.c)("scroll",s.inViewHandler)),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,o=t.spinner,i=t.isUserLoggedIn,a=t.styles,s=t.onRemoveGalleryPage,c=t.isViewPort,u=t.onGalleryImageVote,l=t.usePrivacy,p=r.adUrl,m=r.adType,d=r.title,f=r.href,y=r.target,h=r.views,b=r.commentCount,v=r.ups,g=r.isAd,w=r.downs,P=r.isVideo,O=r.src,j=r.animationType,E=r.height,S=r.width,q=r.meta,_=i&&u&&(r.vote||k.q),V=G()((A(e={},n,!!n),A(e,"".concat(_,"vote"),!!_),A(e,"novote",!_),e));return N.a.createElement("a",{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:s,className:V,href:0<m&&p?p:f,target:y,onClick:this.clickHandler,ref:this.post},P?N.a.createElement(M.b,{animationType:j,styles:a,src:O,height:E,width:S,playVideo:O.playVideo&&c,spinner:o}):N.a.createElement(L.b,{src:O.image,height:E,width:S,styles:a,spinner:o}),this.props.children,N.a.createElement(F,{isPromotedAd:q.isPromotedAd,isThumbnailAd:q.isThumbnailAd,imagesCount:q.imagesCount,metaLabel:q.label}),N.a.createElement(x,{title:d,isNotAd:!g,views:h,privacy:l?r.privacy:""},N.a.createElement(I,{value:_===k.p?v+1:v,onVote:this.getVoteHandler(k.p),isVoted:this.isVoteHandler&&_===k.p}),i&&N.a.createElement(C,{value:_===k.o?w+1:w,onVote:this.getVoteHandler(k.o)}),N.a.createElement(T,{value:b})))}}]),t}();A(S,"defaultProps",{className:"",usePrivacy:!1});var q={onGalleryImageVote:c.z,onSaveGalleryPage:c.K,onRemoveGalleryPage:c.H,adTileInView:u.d,adTileTapped:u.e},_=Object(a.b)(null,q)(S);t.c=Object(l.a)(Object(a.b)(null,q)(S));S.__docgenInfo={description:"",methods:[{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInView:{type:{name:"func"},required:!1,description:""},adTileTapped:{type:{name:"func"},required:!1,description:""}}}},sWSo:function(e,t,n){"use strict";var r=n("q1tI"),d=n.n(r),o=(n("17x9"),n("ANjH")),i=n("/MKj"),f=n("zXN+"),a=n("wL9V"),s=n("N9yH"),c=n("sEfC"),u=n.n(c),l=n("Bw9V"),p=n("enaV"),m=n("+qLk"),y=n("ega+"),h=n("xypG");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=n("cF8P"),S=n("DUmG"),q=n.n(S);n("9DFJ");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=e.item;return d.a.createElement("div",{key:t.id,className:"PostWrapper",style:{height:t.size,background:"linear-gradient(".concat(t.colorLoading,", ").concat(q.a.$voyagerDarkGrey,")")}})}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,G(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,d.a.Component),function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(t,[{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.hasMargin,r=e.Child,o={width:E.c},i="Grid-column".concat("".concat(n?" hasMargin":""));return d.a.createElement("div",{style:o,className:i},t.getItems().map(function(e){return e.isInview?d.a.createElement("div",{key:e.id,style:{height:e.size,marginBottom:16}},d.a.createElement(r,{id:e.id,width:E.c,height:e.size,colorLoading:e.colorLoading,isViewPort:e.isViewPort})):d.a.createElement(C,{key:e.id,item:e})}))}}]),t}();I.__docgenInfo={description:"",methods:[],displayName:"FastColumn",props:{column:{type:{name:"object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},hasMargin:{type:{name:"bool"},required:!1,description:""},Child:{type:{name:"func"},required:!0,description:""}}};var T=n("GB65"),x=n("G5ih");n("LbAz");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return H}),n.d(t,"c",function(){return U});var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,A(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,d.a.Component),function(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.mountGrid({width:this.props.viewPortWidth,viewUniform:this.props.shouldViewUniform,height:Object(T.o)()}),0<this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(f.a)(this.props.columnsCount)})}},{key:"componentWillReceiveProps",value:function(e){(e.columnsCount!==this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(f.a)(e.columnsCount)}),e.positionY!==this.props.positionY)&&(0<e.columns.length&&e.version!==this.props.version&&e.columns[0].getSize()-e.positionY<E.i&&this.props.moreDataFetch())}},{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version||e.isFetching!==this.props.isFetching}},{key:"componentWillUnmount",value:function(){this.props.unmountGrid()}},{key:"render",value:function(){var e=this.props,t=e.topOffset,n=e.viewUniform,r=e.columns,o=e.isFetching,i=e.fetchError,a=e.posts,s=e.version,c=e.Child,u=e.emptyRow;if(0===r.length)return null;var l="FastGrid".concat(n?" uniform":""),p={marginTop:t,width:Object(f.a)(r.length)};if(i&&0===a.size)return d.a.createElement("h1",{className:"FastGrid-Error",style:p},Object(x.a)("explanationGeneric")," ",Object(x.a)("suggestionGeneric"));if(0===a.size&&!o&&u)return u();var m=r.slice().sort(function(e,t){return e.getId().slice(-1)-t.getId().slice(-1)});return d.a.createElement("div",{className:l,style:p},m.map(function(e,t){return d.a.createElement(I,{key:e.getId(),column:e,version:10*s+e.version,hasMargin:0!==t,Child:c})}))}}]),t}();function U(e){var t=e.gallery,n=e.fastGrid,r=e.display,o=e.posts;return{columns:n.get("columns"),version:n.get("version"),gridWidth:n.get("width"),topOffset:n.get("topOffset"),positionY:r.get("positionY"),columnsCount:n.get("columns").length,viewUniform:n.get("viewUniform"),shouldViewUniform:t.get("viewUniform"),isFetching:t.get("isFetching"),viewPortWidth:r.get("viewPort").get("width"),fetchError:t.get("fetchError"),posts:o.get("posts")}}t.b=Object(o.c)(function(t){var e=function(e){function i(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return j(P(n=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?P(e):t}(this,(e=w(i)).call.apply(e,[this].concat(r)))),"initialDataFetch",function(e){n.fetchGallery(Object.assign({},e||n.props,{streamPage:0,insertionModifier:l.h}))}),j(P(n),"moreDataFetch",function(){n.fetchGallery(Object.assign({},n.props,{insertionModifier:l.a}))}),j(P(n),"replaceDataFetch",function(e){n.fetchGallery(Object.assign({},e,{streamPage:0,insertionModifier:l.o}))}),j(P(n),"fetchGallery",u()(function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.streamSection,t.streamParam,t.streamWindow,t.streamPage,t.streamSort,t.isPromoted,t.insertionModifier)}},m.o,{leading:!0,trailing:!1})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,d.a.Component),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(i,[{key:"componentDidMount",value:function(){this.props.setGalleryParams()}},{key:"componentWillUnmount",value:function(){this.props.cleanupGallery()}},{key:"componentWillReceiveProps",value:function(e){if(e.isInitialized&&this.props.isInitialized)return e.fetchError&&this.fetchGallery(),e.streamParam&&this.props.streamParam&&e.streamParam!==this.props.streamParam?this.replaceDataFetch(e):e.streamSection&&this.props.streamSection&&e.streamSection!==this.props.streamSection?this.replaceDataFetch(e):e.streamSort&&this.props.streamSort&&e.streamSort!==this.props.streamSort?this.replaceDataFetch(e):void 0;this.props.isInitialized?this.props.setGalleryParams():e.isInitialized&&(this.props.galleryPostRendererReady(),this.initialDataFetch(e))}},{key:"render",value:function(){return d.a.createElement(h.c,{isLoading:this.props.isFetching,isScrollSpinner:this.props.hasPosts},d.a.createElement(t,{Child:y.c,initialDataFetch:this.initialDataFetch,moreDataFetch:this.moreDataFetch}))}}]),i}();return e.displayName="WithGalleryData(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Object(i.b)(function(e){var t=e.gallery,n=e.posts;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),hasPosts:0<n.get("posts").size}},function(c){return{fetchGallery:(s=function(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){v(r,t,n,o,i,"next",e)}function i(e){v(r,t,n,o,i,"throw",e)}o(void 0)})}}(regeneratorRuntime.mark(function e(t,n,r,o,i,a,s){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(l.C)({isFetching:!0})),e.next=3,c(Object(p.a)({gallery:t,param:n,streamWindow:r,page:o,sort:i,isPromoted:a,insertionModifier:s}));case 3:0===o&&c(Object(l.y)());case 4:case"end":return e.stop()}},e)})),function(e,t,n,r,o,i,a){return s.apply(this,arguments)}),galleryPostRendererReady:function(){return c(Object(l.A)())},cleanupGallery:function(){return c(Object(l.s)())}};var s})(e)},Object(i.b)(U,{modifyDisplayState:a.e,mountGrid:s.c,unmountGrid:s.d}))(H);H.__docgenInfo={description:"",methods:[],displayName:"FastGrid",props:{moreDataFetch:{type:{name:"func"},required:!0,description:""},mountGrid:{type:{name:"func"},required:!0,description:""},unmountGrid:{type:{name:"func"},required:!0,description:""},modifyDisplayState:{type:{name:"func"},required:!0,description:""},topOffset:{type:{name:"number"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},viewUniform:{type:{name:"bool"},required:!0,description:""},shouldViewUniform:{type:{name:"bool"},required:!0,description:""},isFetching:{type:{name:"bool"},required:!0,description:""},columns:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},columnsCount:{type:{name:"number"},required:!0,description:""},gridWidth:{type:{name:"number"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},fetchError:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},posts:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},Child:{type:{name:"func"},required:!0,description:""},emptyRow:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},yQno:function(e,t,n){}}]);