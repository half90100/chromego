(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{CG6i:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("q1tI"),l=n.n(o),r=(n("17x9"),n("gmqy"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var a=function(e){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(c(t=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}(this,(e=s(a)).call.apply(e,[this].concat(o)))),"element",null),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,l.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(a,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src")}},{key:"render",value:function(){var t=this,e=this.props,n=e.src,o=e.onLoad,r=e.onError,a=e.width,i=e.height;return l.a.createElement("img",{ref:function(e){t.element=e},src:n,style:{width:a,height:i},onLoad:o,onError:r})}}]),a}();t.b=Object(r.a)(a),a.__docgenInfo={description:"",methods:[],displayName:"PostImageComponent",props:{src:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";var o=n("q1tI"),f=n.n(o),a=(n("17x9"),n("GB65")),s=n("wmRA"),b={PRESENT_PLAYING:"PRESENT_PLAYING",PRESENT_PAUSED:"PRESENT_PAUSED"},h={PRESENT_ON:"PRESENT_ON",PRESENT_MUTED:"PRESENT_MUTED"},r=n("gmqy"),c=n("CG6i"),i=n("TSYQ"),y=n.n(i);n("qhsG");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(m(r=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?m(e):t}(this,d(t).call(this,e))),"movementStartPos",0),v(m(r),"volumeStart",0),v(m(r),"stateIndicator",f.a.createRef()),v(m(r),"time",f.a.createRef()),v(m(r),"scrubber",f.a.createRef()),v(m(r),"bar",f.a.createRef()),v(m(r),"audioIndicator",f.a.createRef()),v(m(r),"volume",f.a.createRef()),v(m(r),"updateDimensionsFromScrubber",function(){var e=r.scrubber.current.offsetWidth;e||(e=1),r.updateDimensions(e,r.scrubber.current.getBoundingClientRect().left)}),v(m(r),"handleMouseDown",function(){Object(a.c)("mouseup",r.handleMouseUp),Object(a.c)("mousemove",r.handleMouseMove),Object(a.s)("body").style.userSelect="none",r.setState({dragging:!0})}),v(m(r),"handleMouseUp",function(){Object(a.U)("mouseup",r.handleMouseUp),Object(a.U)("mousemove",r.handleMouseMove),Object(a.s)("body").style.userSelect="auto";var e=r.props.onTimeChange(r.state.playedPercentModifier);r.setState({scrubPauseWait:e,dragging:!1})}),v(m(r),"handleMouseMove",function(e){r.props.onScrubbing();var t=r.movementStartPos,n=r.state.scrubberWidth;r.setState({playedPercentModifier:r.getPlayedPercentModifier(e.pageX,t,n)})}),v(m(r),"handleMouseDownVolume",function(){Object(a.c)("mouseup",r.handleMouseUpVolume),Object(a.c)("mousemove",r.handleMouseMoveVolume),Object(a.s)("body").style.userSelect="none",r.volumeStart=r.volume.current.getBoundingClientRect().left}),v(m(r),"handleMouseUpVolume",function(e){Object(a.U)("mouseup",r.handleMouseUpVolume),Object(a.U)("mousemove",r.handleMouseMoveVolume),Object(a.s)("body").style.userSelect="auto",r.setVolumeFromCoordinates(e.pageX)}),v(m(r),"handleMouseMoveVolume",function(e){r.setVolumeFromCoordinates(e.pageX)}),v(m(r),"handleScrubberBarClick",function(e){var t=r.movementStartPos,n=r.state.scrubberWidth,o=r.getPlayedPercentModifier(e.pageX,t,n);r.props.onTimeChange(o)}),r.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,f.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"componentDidMount",value:function(){var t=this;this.updateDimensionsFromScrubber(),Object(a.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(a.a)(e,t.updateDimensionsFromScrubber)})}},{key:"componentWillUnmount",value:function(){var t=this;Object(a.U)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(a.S)(e,t.updateDimensionsFromScrubber)})}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"componentWillReceiveProps",value:function(e){null!==this.state.playedPercentModifier&&e.playedPercent>this.state.scrubPauseWait&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=1-Math.min(Math.max((this.volumeStart+104+Object(a.v)("scrollX")-e)/104,0),1);this.props.onVolumeChange(t),this.setState({volume:t})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var o=(e-t)/n;return o<0?0:1<o?1:o}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],o=[],r=0;r<n.length;r++)if(e<=n[r][0]){o=[r-1,r];break}var a=n[o[0]][1],i=n[o[1]][1],l=n[o[0]][0],u=(e-l)/(n[o[1]][0]-l);return this.pickRgb(i,a,u).join()}},{key:"pickRgb",value:function(e,t,n){var o=((2*n-1)/1+1)/2,r=1-o;return[Math.round(e[0]*o+t[0]*r),Math.round(e[1]*o+t[1]*r),Math.round(e[2]*o+t[2]*r)]}},{key:"render",value:function(){var e=this,t=this.props.playedPercent;null!==this.state.playedPercentModifier&&(t=this.state.playedPercentModifier);var n=this.state.scrubberWidth*t,o=-1*n,r=(n+=5)-25,a=Math.floor(this.props.duration-this.props.time),i="".concat(n,"px"),l=this.props.playState===b.PRESENT_PLAYING?"playing":"paused",u=this.slide(n,this.state.scrubberWidth),s="0 0 10px 0 rgb(".concat(u,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(u,")"),c=this.props.audioState===h.PRESENT_MUTED?"mute":"on",d=y()({"PostVideoControls-fullscreen":!0,fullscreen:this.props.fullscreen}),m=this.props.audioState===h.PRESENT_MUTED?0:104*this.state.volume,p=m;return f.a.createElement("div",{className:"PostVideoControls"},f.a.createElement("div",{className:"PostVideoControls-container"},f.a.createElement("span",{onClick:this.props.onPlayToggle,className:"PostVideoControls-state"},f.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(l)}," ")),f.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(a/60),":",this.pad(a%60)),f.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},f.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"}," "),f.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:i}},f.a.createElement("style",null,"\n                                .PostVideoControls-scrubber-bar::after{\n                                    width: ".concat(this.state.scrubberWidth,"px;\n                                }\n                                .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(u,")\n                                }\n\n                            "))),f.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:i}}),this.state.dragging&&f.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},f.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:r}},f.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:o}})),f.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:r}},f.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:o}}))),f.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:i,background:"rgb(".concat(u,")"),boxShadow:s},onMouseDown:this.handleMouseDown},f.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:o}}))),this.props.toggleFullscreen&&f.a.createElement("span",{onClick:function(){return e.props.toggleFullscreen(!0)},className:d}," ")),this.props.hasAudio?f.a.createElement("span",{className:"PostVideoControls-audio-container"},f.a.createElement("span",{ref:this.audioIndicator,onClick:this.props.onAudioToggle,className:"PostVideoControls-audio PostVideoControls-audio-".concat(c)}),f.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},f.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:m}}),f.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:p}}))):"")}}]),t}();g.defaultProps={volume:.5};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""}}},n.d(t,"a",function(){return M});var M=function(e){function o(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),V(O(n=function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?O(e):t}(this,k(o).call(this,e))),"imageLoaded",!1),V(O(n),"unmount",!1),V(O(n),"timeStarted",-1),V(O(n),"timePlayed",0),V(O(n),"duration",0),V(O(n),"soundWasEverEnabled",!1),V(O(n),"videoContainer",f.a.createRef()),V(O(n),"srcmp4",f.a.createRef()),V(O(n),"video",f.a.createRef()),V(O(n),"isVideoElementUnavailable",function(){return n.unmount||!n.video.current}),V(O(n),"handlerLoad",function(e){n.imageLoaded=!0,n.props.onLoad&&n.props.onLoad(e)}),V(O(n),"onPlayToggle",function(){n.isVideoElementUnavailable()||(n.video.current.paused?n.play():n.pause())}),V(O(n),"onAudioToggle",function(){if(!n.isVideoElementUnavailable()){var e=n.state.audioState===h.PRESENT_ON,t=e?h.PRESENT_MUTED:h.PRESENT_ON;n.video.current.muted=e,n.setState({audioState:t},function(){!e&&n.props.hash&&n.handleGlobalUnmute(n.props.hash)}),n.soundWasEverEnabled||(n.soundWasEverEnabled=!e)}}),V(O(n),"onScrubbing",function(){if(!n.isVideoElementUnavailable()){var e=n.video.current;e.paused||e.pause()}}),V(O(n),"onTimeChange",function(e){if(!n.isVideoElementUnavailable()){var t=n.video.current;return t.currentTime=t.duration*e,n.isPlaying()&&n.play(),t.currentTime/t.duration}}),V(O(n),"onVolumeChange",function(e){n.isVideoElementUnavailable()||(n.video.current.volume=e,n.setState({audioState:h.PRESENT_ON,volume:e},function(){0<e&&n.props.hash&&n.handleGlobalUnmute(n.props.hash)}))}),V(O(n),"handleTimeUpdate",function(e){n.isVideoElementUnavailable()||(n.videoInterval(e),n.state.progressVisible&&n.setState({playedPercent:n.video.current.currentTime/n.video.current.duration,currentTime:Math.floor(n.video.current.currentTime)}))}),V(O(n),"handleMetadata",function(){n.isVideoElementUnavailable()||(n.video.current.currentTime=n.state.currentTime,n.setState({playedPercent:n.state.currentTime/n.video.current.duration,duration:Math.floor(n.video.current.duration)}))}),V(O(n),"handleData",function(e){if(!n.isVideoElementUnavailable()){var t=!1;void 0!==e.target.webkitAudioDecodedByteCount&&0<e.target.webkitAudioDecodedByteCount?t=!0:void 0!==e.target.mozHasAudio&&e.target.mozHasAudio?t=!0:void 0!==e.target.audioTracks&&0<e.target.audioTracks.length&&(t=!0),n.video.current.volume=n.state.volume,n.setState({playedPercent:n.state.currentTime/n.video.current.duration,duration:Math.floor(n.video.current.duration),hasAudio:t})}}),V(O(n),"handleCanPlay",function(e){n.isVideoElementUnavailable()||n.isPaused()||(1===n.video.current.readyState&&n.play(),n.props.handleCanPlay(e))}),V(O(n),"handleVideoSourceError",function(){!n.video.current||0!==n.video.current.readyState&&3!==n.video.current.networkState||n.setState({isError:!0})}),V(O(n),"toggleFullscreen",function(e){n.isVideoElementUnavailable()||(Object(a.s)("body").mozRequestFullScreen||Object(a.s)("body").webkitRequestFullScreen||Object(a.s)("body").requestFullScreen)&&(n.state.fullscreen||!1===e?(Object(a.hb)(),Object(a.s)("body").classList.remove("video-hidden-body"),n.setState({fullscreen:!1})):(n.videoContainer.current&&Object(a.ib)(n.videoContainer.current),Object(a.s)("body").classList.add("video-hidden-body"),n.setState({fullscreen:!0})))}),V(O(n),"videoStartedPlaying",function(){n.setState({playState:b.PRESENT_PLAYING}),n.props.promoted&&(n.timeStarted=(new Date).getTime()/1e3)}),V(O(n),"videoInterval",function(e){if(!n.isVideoElementUnavailable()&&n.props.promoted&&!n.video.current.paused&&n.props.controls&&n.state.duration){if(0<n.timeStarted){var t=(new Date).getTime()/1e3-n.timeStarted;n.timeStarted=-1,n.timePlayed+=t}"timeupdate"===e.type&&(n.timeStarted=(new Date).getTime()/1e3)}}),V(O(n),"handleSeek",function(e){n.isVideoElementUnavailable()||(n.video.current.currentTime=e)}),V(O(n),"handleMouseOver",function(){n.setState({progressVisible:!0})}),V(O(n),"handleMouseOut",function(){n.setState({progressVisible:!1})});var t=e.playAudioIfAvailable?h.PRESENT_ON:h.PRESENT_MUTED;return e.playState===b.PRESENT_PAUSED&&e.audioState&&(t=e.audioState),n.state={playedPercent:0,playState:e.playVideo?b.PRESENT_PLAYING:b.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:t,isError:!1,volume:e.volume||n.getVolumePreference()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,f.a.Component),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(o,[{key:"componentWillUnmount",value:function(){this.unmount=!0,this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.playVideo;e.playVideo!==t&&(t&&this.pause(),e.playVideo&&this.play())}},{key:"componentDidMount",value:function(){var e=this,t=function(){Object(a.s)("mozFullScreen")||Object(a.s)("webkitIsFullScreen")||Object(a.s)("fullscreen")||e.toggleFullscreen(!1)};this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(a.a)(e,t)})}},{key:"handleGlobalUnmute",value:function(e){e===this.props.hash||this.unmount||this.setState({audioState:h.PRESENT_MUTED})}},{key:"getVolumePreference",value:function(){return.5}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then(function(){e.setState({playState:b.PRESENT_PLAYING})}).catch(function(){e.setState({playState:b.PRESENT_PAUSED})}):this.setState({playState:b.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:b.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===b.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===b.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,o=e.onError,r=e.animationType,a=e.playVideo,i=e.src,l=a?i.video:i.image;if(r!==s.j||!this.imageLoaded)return f.a.createElement(c.a,{src:r!==s.l?i.image:l,height:n,width:t,onError:o,onLoad:this.handlerLoad});if(this.state.isError)return this.props.fallbackMedia(this.props.src);var u={key:this.props.hash,style:{maxWidth:this.props.width,minHeight:this.props.height,maxHeight:this.props.height},draggable:!1,muted:!0,playsInline:"playsInline",controls:!1};return this.state.audioState===h.PRESENT_MUTED&&(u.muted=!0),this.isPlaying()?u.autoPlay="autoplay":u.preload="metadata",r===s.j&&(u.loop="loop"),i.image&&(u.poster=i.image),this.props.dataURL&&(u["data-url"]=this.props.dataURL),f.a.createElement("div",{className:"PostVideo".concat(this.state.fullscreen?" fullscreen":""),ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},this.props.controls&&this.isPaused()&&f.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),f.a.createElement("div",{className:"PostVideo-video-wrapper"},f.a.createElement("video",S({},u,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:this.state.fullscreen?"fullscreen":this.props.classNames,ref:this.video}),f.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:i.video}))),this.props.controls&&f.a.createElement(g,{playedPercent:this.state.playedPercent,time:this.state.currentTime,onScrubbing:this.onScrubbing,duration:this.state.duration,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:this.state.audioState,onAudioToggle:this.onAudioToggle,playState:this.state.playState,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:this.state.fullscreen,toggleFullscreen:this.toggleFullscreen,hasAudio:this.state.hasAudio,volume:this.state.volume}))}}]),o}();M.defaultProps={animationType:s.j,controls:!1,src:{image:"",video:""},playAudioIfAvailable:!0,playState:b.PRESENT_PAUSED,audioState:h.PRESENT_MUTED,currentTime:0,volume:.5,handleCanPlay:function(){},fallbackMedia:function(e){return f.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0};t.b=Object(r.a)(M);M.__docgenInfo={description:"",methods:[{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hash",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"getVolumePreference",docblock:null,modifiers:[],params:[],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playAudioIfAvailable:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},audioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"src => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""}}}},gmqy:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var o=n("q1tI"),i=n.n(o),r=(n("17x9"),n("DUmG")),a=n.n(r);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.isLoading,n=e.color,o=e.height;if(!t)return null;var r={position:"absolute",zIndex:"".concat(a.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(o,"px"),background:"linear-gradient(".concat(n,", ").concat(a.a.$voyagerDarkGrey,")")};return i.a.createElement("div",{className:"Spinner",style:r})}function b(t){return function(e){function a(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return p(d(t=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,(e=c(a)).call.apply(e,[this].concat(o)))),"state",{isLoading:!0}),p(d(t),"_isMounted",!1),p(d(t),"loadHandler",function(){t._isMounted&&t.setState({isLoading:!1})}),p(d(t),"errorHandler",function(){t.setState({isLoading:!1})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,i.a.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.spinner;return i.a.createElement("div",{className:"Post-item-media",style:this.props.styles},i.a.createElement(f,{isLoading:this.state.isLoading,color:e.color,height:e.height}),i.a.createElement(t,u({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),a}()}f.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},qhsG:function(e,t,n){}}]);