/*! 2014-12-19 11:12:26 */
var haitaoRuntime="background",HAITAO_VERSION="2.6.4",RUNTIME_MODE_DEV=0,RUNTIME_MODE_PROD=1;RUNTIME_MODE=RUNTIME_MODE_PROD,chrome.extension.onMessage.addListener(function(a,b,c){"getConfig"==a.operate?c(HaitaoUtils.getConfig()):"translate"==a.operate?HaitaoUtils.translate(a.data,a,b,c):"translateInput"==a.operate?HaitaoUtils.translate(a.data,a,b,c,"translateInputCallback"):"setLocalStorage"==a.operate?HaitaoUtils.setLocalStorage(a.data):"getLoginStatus"==a.operate?c(localStorage.haitao_login):"submitOrder"==a.operate?notification.submitOrder(a.data,a,b,c):"clipboardWrite"==a.operate?HaitaoUtils.clipboardWrite(a.data,a,b,c):"showAddrNotify"==a.operate?HaitaoUtils.showAddrNotify(a.data,a,b,c):"getShipAddress"==a.operate?HaitaoUtils.getShipAddress_bg(a.data,a,b,c):"getCurrentRate"==a.operate&&HaitaoUtils.getCurrentRate_bg(a.data,a,b,c)}),localStorage.isLoadRemoteRes="false";var isLoadRemoteRes=localStorage.isLoadRemoteRes&&"true"==localStorage.isLoadRemoteRes?!0:!1;KISSY.use("io, haitaoUtils",function(a,b,c){b.get(chrome.extension.getURL("/extra/config.json"),function(a,b){if("success"==b){var d="object"==typeof a?a:JSON.parse(a);localStorage.haitao_config=JSON.stringify(d),c.loadTemplate(d)}}),localStorage.haitao_isInstall||c.showGuide(),c.initLoginStatus(),c.statistics(),c.getTransTimeStat(),notification.init(),KISSY.use("haitaoTrackAjax",function(a,b){var c=new b;c.getShipStatus(!0),setInterval(function(){c.getShipStatus()},36e5)})});