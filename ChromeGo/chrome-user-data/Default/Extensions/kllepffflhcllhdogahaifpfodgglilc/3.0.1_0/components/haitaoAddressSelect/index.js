/*! 2014-12-19 11:12:26 */
KISSY.add("haitaoAddrSelect",function(a,b,c,d){function e(a){for(var b=null,c=0;c<a.length;c++)if("海淘客"==a[c].name){b=a[c],a.splice(c,1);break}return null!=b&&a.unshift(b),a}function f(b,c,f){function g(e){e||(e=b[0].id);var g=i[e];m||(m=new d.Select({prefixCls:"haitao-",width:130,defaultCaption:"&nbsp;",srcNode:".haitao_sel_transChannel"+f,menuAlign:{offset:[0,-1]},menuCfg:{width:130}}),m.render(),m.on("click",function(a){var b=a.target.get("value");if(c){var d=j[b];d.province=d.province.toUpperCase().substr(0,2),d.transId=k,c(d)}})),m.removeItems(!0),j={},a.each(g.list,function(a){j[a.wareHouseNo]=a,m.addItem(new d.Option({value:a.wareHouseNo,prefixCls:"haitao-",content:a.wareHouseName}))}),m.set("selectedIndex",0),m.fire("click")}f=f?f:"",b=e(b);for(var h=new d.Select({prefixCls:"haitao-",width:100,defaultCaption:"选择转运",srcNode:".haitao_sel_transComp"+f,menuAlign:{offset:[0,-1]},menuCfg:{width:100}}),i={},j={},k="",l=0;l<b.length;l++)i[b[l].id]=b[l],h.addItem(new d.Option({value:b[l].id,prefixCls:"haitao-",content:b[l].name}));h.set("selectedIndex",0),h.render(),h.on("click",function(a){var b=a.target.get("value");k=b,g(b)});var m=null}return f},{requires:["node","event","menubutton","mu"]});